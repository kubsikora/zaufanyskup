import{Q as r}from"./QSpace.aef0c2f4.js";import{_ as f,d as g,r as l,v as h,m as q,n as x,j as o,p as a,A as c,aK as y,Q as p}from"./index.87951f32.js";import{api as k}from"./axios.f281c5ac.js";import{u as $}from"./use-quasar.e420d68e.js";import"./axios.550fcdad.js";const V=g({name:"IndexPage",components:{},setup(){const e=l({newpassword:"",newpassword2:""}),s=l(!0),i=l(!0),n=$(),u=h();return{check:()=>e.value.newpassword!==e.value.newpassword2&&e.value.newpassword.length<8,change:async()=>{var w,m;try{n.loading.show();const d=localStorage.getItem("token");await k.post("/api/changepassword",e.value,{headers:{Authorization:`Bearer ${d}`,Accept:"application/json","Content-Type":"multipart/form-data"}}),n.notify({type:"positive",message:"Zmieniono has\u0142o"}),u.push("/adminview")}catch(d){const b=d;n.notify({type:"negative",message:(m=(w=b.response)==null?void 0:w.data)==null?void 0:m.message})}finally{n.loading.hide()}},auth:e,passwordtype:s,passwordtype2:i}}}),C={class:"row q-mt-xl"},Q={class:"col-3 shadow-1 q-mt-xl q-py-md rounded-borders bg-blue-1"},B={class:"row q-px-xl q-mb-sm"},z={class:"row q-px-xl"};function j(e,s,i,n,u,v){return q(),x("div",C,[o(r),a("div",Q,[a("div",B,[o(r),s[5]||(s[5]=a("span",{class:"col-5 text-grey-6"},"Ustaw nowe has\u0142o",-1)),o(r)]),a("div",z,[o(y,{modelValue:e.auth.newpassword,"onUpdate:modelValue":s[1]||(s[1]=t=>e.auth.newpassword=t),outlined:"",type:e.passwordtype?"password":"text",dense:"",label:"Nowe has\u0142o",class:"col-12 bg-white q-mb-xs rounded-borders"},{append:c(()=>[o(p,{dense:"",flat:"",unelevated:"",round:"",onClick:s[0]||(s[0]=t=>e.passwordtype=!e.passwordtype),icon:e.passwordtype?"visibility_off":"visibility"},null,8,["icon"])]),_:1},8,["modelValue","type"]),o(y,{modelValue:e.auth.newpassword2,"onUpdate:modelValue":s[3]||(s[3]=t=>e.auth.newpassword2=t),outlined:"",type:e.passwordtype2?"password":"text",dense:"",label:"Powt\xF3rz has\u0142o",class:"col-12 bg-white rounded-borders"},{append:c(()=>[o(p,{dense:"",flat:"",unelevated:"",round:"",onClick:s[2]||(s[2]=t=>e.passwordtype2=!e.passwordtype2),icon:e.passwordtype2?"visibility_off":"visibility"},null,8,["icon"])]),_:1},8,["modelValue","type"]),s[6]||(s[6]=a("div",{class:"row bg-red-2 text-red-6 q-pa-sm q-mt-sm",style:{border:"1px solid red","border-radius":"4px"}},[a("div",{class:"col-12"},"Has\u0142a musz\u0105:"),a("div",{class:"col-12 text-bold"},"-mie\u0107 wi\u0119cej ni\u017C 8 znak\xF3w"),a("div",{class:"col-12 text-bold"},"-pasowa\u0107 do siebie")],-1)),o(p,{onClick:s[4]||(s[4]=t=>e.change()),unelevated:"",class:"bg-primary col-12 q-mt-md q-px-xl text-white",label:"Zmie\u0144 has\u0142o"})])]),o(r)])}var F=f(V,[["render",j]]);export{F as default};
